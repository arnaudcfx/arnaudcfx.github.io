<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Projet3-OS â€“ Project Portfolio</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    body { font-family: 'Inter', Arial, sans-serif; background: #f6f8fa; margin:0; }
    .container { max-width: 800px; margin: 2rem auto; background: #fff; border-radius: 16px; box-shadow: 0 2px 12px rgba(0,0,0,0.09); padding: 2.5rem; }
    h1 { text-align: center; color: #1e3799; }
    h2 { color: #5e6ad2; margin-top: 2em;}
    pre, code { background: #f3f3fa; border-radius: 6px; padding: 0.5em 1em; display: block; }
    .lang-list { display: flex; flex-wrap: wrap; gap: 0.5em; margin: 1.2em 0 1.5em 0; }
    .lang-tag { background: #eef0fb; color: #5e6ad2; border-radius: 4px; padding: 2px 10px; font-size: 0.95em; font-weight: 600; letter-spacing: 0.01em; }
    .notice { background: #fff3cd; color: #856404; border-radius: 6px; padding: 1em 1.2em; margin-top: 2em; font-size: 1.05em; border-left: 5px solid #ffe066; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Projet3-OS</h1>
    <div class="lang-list">
      <span class="lang-tag">C</span>
      <span class="lang-tag">File System</span>
      <span class="lang-tag">Virtual Disk</span>
      <span class="lang-tag">Makefile</span>
    </div>
    <h2>Project Description</h2>
    <p>
      The third OS project focuses on designing and implementing a custom file system atop a virtual disk in C. The system covers all layers: from on-disk data structures (superblock, inodes, bitmaps) to the file API and interaction with a simulated disk driver. The project required a solid understanding of hardware abstractions (sectors, blocks), error handling, and low-level data manipulation.
    </p>
    <h2>File System Implementation Highlights</h2>
    <ul>
      <li>
        <b>Disk & Block Model:</b> The file system operates on a virtual disk, with a sector size of 1024 bytes. All error codes are negative integers. Blocks are numbered from 0 (superblock) up to the disk size minus one.
      </li>
      <li>
        <b>Core Structures:</b> Includes a <b>superblock</b> (with magic number, block count, inode count, etc.), file control blocks (inodes with direct and indirect pointers), and a bitmap for block allocation.
      </li>
      <li>
        <b>Formatting:</b> <code>format()</code> initializes the disk, writes the superblock, and zeroes out all inode blocks.
      </li>
      <li>
        <b>Mount/Unmount:</b> <code>mount()</code> loads FS metadata and reconstructs allocation bitmaps from disk; <code>unmount()</code> safely shuts down the disk and cleans up.
      </li>
      <li>
        <b>File Operations:</b>
        <ul>
          <li><b>create():</b> Allocates and initializes a new inode, returns its number.</li>
          <li><b>delete(inode_num):</b> Marks the inode as invalid and updates the superblock.</li>
          <li><b>stat(inode_num):</b> Returns the size of a file if inode is valid.</li>
          <li><b>read()/write():</b> Reads/writes data with proper block, indirect, and double-indirect pointer handling. Handles offsets, gaps, and file extents.</li>
        </ul>
      </li>
      <li>
        <b>Bitmap & Allocation:</b> The bitmap array keeps track of block usage. Allocation routines ensure no double-use and handle exhaustion cleanly.
      </li>
      <li>
        <b>Utilities:</b> Includes <code>print_bitmap()</code> for debugging allocation, and <code>do_copyin()</code>/<code>do_copyout()</code> for file import/export to/from the virtual FS.
      </li>
      <li>
        <b>Testing:</b> The <code>main()</code> function demonstrates formatting, mounting, creating, writing, reading, and deleting files end-to-end.
      </li>
    </ul>
    <h2>Skills & Technologies</h2>
    <ul>
      <li>C programming (kernel and low-level)</li>
      <li>Custom file system and disk driver abstraction</li>
      <li>Block-level data management, inodes, and pointer arithmetic</li>
      <li>Error handling, memory management, and debugging</li>
      <li>Test-driven system development</li>
    </ul>
    <h2>Code Logic</h2>
    <ul>
      <li>Implements all file system primitives: format, mount, unmount, create, delete, stat, read, write</li>
      <li>Supports direct and indirect inode addressing for large files</li>
      <li>Ensures block allocation consistency via bitmaps</li>
      <li>Includes import/export utilities for file integration with host OS</li>
    </ul>
    <h2>Results & Impact</h2>
    <ul>
      <li>Successfully delivered a working file system simulation atop a virtual disk</li>
      <li>Demonstrated understanding of on-disk data structures, allocation, and file I/O</li>
      <li>Provided a robust, extensible base for further OS/FS experiments</li>
    </ul>
    <div class="notice">
      The full source code is not published to respect the academic and group work confidentiality. For more information, please contact me privately.
    </div>
  </div>
</body>
</html>
